<script setup lang="ts">
import { ChevronDownIcon } from '@heroicons/vue/24/outline';
import { ref } from 'vue';

const faqs = [
  {
    id: 1,
    icon: 'ğŸš€',
    category: 'å¿«é€Ÿå…¥é—¨',
    question: 'å¦‚ä½•åœ¨5åˆ†é’Ÿå†…æ­å»ºä¸“ä¸šå®˜ç½‘ï¼Ÿ',
    answer: 'ä»…éœ€ä¸‰æ­¥ï¼šâ‘ å…è´¹æ³¨å†Œè´¦å· â‘¡é€‰æ‹©AIæ¨èæ¨¡æ¿ â‘¢æ‹–æ‹½å¼ç¼–è¾‘å‘å¸ƒã€‚æˆ‘ä»¬çš„æ™ºèƒ½è®¾è®¡åŠ©æ‰‹å°†æ ¹æ®æ‚¨çš„è¡Œä¸šç‰¹ç‚¹ï¼Œè‡ªåŠ¨æ¨èæœ€é€‚åˆçš„è®¾è®¡æ–¹æ¡ˆï¼Œè®©æ‚¨çš„å®˜ç½‘ç¬é—´è„±é¢–è€Œå‡ºï¼',
    tags: ['æ–°æ‰‹å¿…çœ‹', 'å¿«é€Ÿä¸Šæ‰‹']
  },
  {
    id: 2,
    icon: 'ğŸŒ',
    category: 'åŸŸåæœåŠ¡',
    question: 'åŸŸåç»‘å®šå’ŒSSLè¯ä¹¦é…ç½®å¤æ‚å—ï¼Ÿ',
    answer: 'å®Œå…¨ä¸ç”¨æ‹…å¿ƒï¼æˆ‘ä»¬æä¾›ä¸€é”®åŸŸåç»‘å®šæœåŠ¡ï¼Œè‡ªåŠ¨é…ç½®å…è´¹SSLè¯ä¹¦ã€‚æ”¯æŒ.comã€.cnã€.netç­‰ä¸»æµåŸŸåï¼Œè¿˜æœ‰ä¸“ä¸šæŠ€æœ¯å›¢é˜Ÿ24å°æ—¶ååŠ©è§£å†³åŸŸåè§£æé—®é¢˜ã€‚',
    tags: ['åŸŸåç»‘å®š', 'SSLè¯ä¹¦', 'æŠ€æœ¯æ”¯æŒ']
  },
  {
    id: 3,
    icon: 'ğŸ’',
    category: 'å¥—é¤æ–¹æ¡ˆ',
    question: 'å“ªä¸ªå¥—é¤æœ€é€‚åˆæˆ‘çš„ä¼ä¸šéœ€æ±‚ï¼Ÿ',
    answer: 'ğŸ¯ ä¸ªäººç‰ˆï¼šé€‚åˆä¸ªäººåšå®¢ã€ä½œå“å±•ç¤ºï¼ˆï¿¥99/å¹´ï¼‰\nğŸ¢ ä¼ä¸šç‰ˆï¼šé€‚åˆä¸­å°ä¼ä¸šå®˜ç½‘ã€åœ¨çº¿å•†åŸï¼ˆï¿¥299/å¹´ï¼‰\nğŸš€ æ——èˆ°ç‰ˆï¼šé€‚åˆå¤§å‹ä¼ä¸šã€å®šåˆ¶éœ€æ±‚ï¼ˆï¿¥899/å¹´ï¼‰\næˆ‘ä»¬è¿˜æä¾›15å¤©å…è´¹è¯•ç”¨ï¼Œè®©æ‚¨é›¶é£é™©ä½“éªŒæ‰€æœ‰åŠŸèƒ½ï¼',
    tags: ['å¥—é¤å¯¹æ¯”', 'ä»·æ ¼é€æ˜', 'å…è´¹è¯•ç”¨']
  },
  {
    id: 4,
    icon: 'ğŸ› ï¸',
    category: 'æŠ€æœ¯æ”¯æŒ',
    question: 'é‡åˆ°é—®é¢˜å¦‚ä½•è·å¾—åŠæ—¶å¸®åŠ©ï¼Ÿ',
    answer: 'æˆ‘ä»¬æä¾›å…¨æ–¹ä½æŠ€æœ¯æ”¯æŒï¼š\nğŸ“ 7x24å°æ—¶åœ¨çº¿å®¢æœ\nğŸ’¬ å¾®ä¿¡ç¾¤ä¸“å±æŠ€æœ¯é¡¾é—®\nğŸ“§ é‚®ä»¶å·¥å•ç³»ç»Ÿ\nğŸ“š è¯¦ç»†çš„è§†é¢‘æ•™ç¨‹åº“\nğŸ¯ ä¸€å¯¹ä¸€ä¸“å±æœåŠ¡ï¼ˆä¼ä¸šç‰ˆåŠä»¥ä¸Šï¼‰\nå¹³å‡å“åº”æ—¶é—´ä»…éœ€30ç§’ï¼',
    tags: ['24å°æ—¶å®¢æœ', 'æŠ€æœ¯æ”¯æŒ', 'å¿«é€Ÿå“åº”']
  },
  {
    id: 5,
    icon: 'ğŸ”’',
    category: 'å®‰å…¨ä¿éšœ',
    question: 'æˆ‘çš„ç½‘ç«™æ•°æ®å’Œç”¨æˆ·ä¿¡æ¯å®‰å…¨å—ï¼Ÿ',
    answer: 'ç»å¯¹å®‰å…¨ï¼æˆ‘ä»¬é‡‡ç”¨ï¼š\nğŸ›¡ï¸ é“¶è¡Œçº§256ä½SSLåŠ å¯†\nğŸ’¾ æ¯æ—¥è‡ªåŠ¨å¤‡ä»½ï¼Œæ”¯æŒä¸€é”®æ¢å¤\nğŸ” 24å°æ—¶å®‰å…¨ç›‘æ§ç³»ç»Ÿ\nğŸ† é€šè¿‡ISO27001ä¿¡æ¯å®‰å…¨è®¤è¯\nâš¡ CDNå…¨çƒåŠ é€Ÿï¼Œ99.9%ç¨³å®šè¿è¡Œ\næ‚¨çš„æ•°æ®å®‰å…¨æ˜¯æˆ‘ä»¬çš„é¦–è¦ä»»åŠ¡ï¼',
    tags: ['æ•°æ®å®‰å…¨', 'åŠ å¯†ä¿æŠ¤', 'å¤‡ä»½æ¢å¤']
  },
  {
    id: 6,
    icon: 'ğŸ“±',
    category: 'ç§»åŠ¨ä¼˜åŒ–',
    question: 'ç½‘ç«™åœ¨æ‰‹æœºä¸Šçš„å±•ç¤ºæ•ˆæœå¦‚ä½•ï¼Ÿ',
    answer: 'å®Œç¾é€‚é…ï¼æˆ‘ä»¬é‡‡ç”¨å“åº”å¼è®¾è®¡æŠ€æœ¯ï¼Œç¡®ä¿æ‚¨çš„ç½‘ç«™åœ¨æ‰€æœ‰è®¾å¤‡ä¸Šéƒ½æœ‰å®Œç¾è¡¨ç°ï¼š\nğŸ“± æ‰‹æœºç«¯è‡ªé€‚åº”å¸ƒå±€\nğŸ’» å¹³æ¿ç”µè„‘ä¼˜åŒ–æ˜¾ç¤º\nğŸ–¥ï¸ æ¡Œé¢ç«¯é«˜æ¸…å‘ˆç°\nâš¡ ç§»åŠ¨ç«¯åŠ è½½é€Ÿåº¦æå‡300%\næ‰€æœ‰æ¨¡æ¿éƒ½ç»è¿‡ä¸¥æ ¼çš„ç§»åŠ¨ç«¯æµ‹è¯•ï¼',
    tags: ['å“åº”å¼è®¾è®¡', 'ç§»åŠ¨ä¼˜åŒ–', 'è·¨è®¾å¤‡å…¼å®¹']
  }
];
const activeFaq = ref<number | null>(null);
const helpfulMarks = ref<Set<number>>(new Set());

function toggleFaq(id: number) {
  activeFaq.value = activeFaq.value === id ? null : id;
}

function markHelpful(id: number) {
  helpfulMarks.value.add(id);
  // è¿™é‡Œå¯ä»¥æ·»åŠ å‘é€åé¦ˆåˆ°æœåŠ¡å™¨çš„é€»è¾‘
  // eslint-disable-next-line no-console
  console.log(`FAQ ${id} marked as helpful`);
}

function contactSupport() {
  // è¿™é‡Œå¯ä»¥æ·»åŠ è”ç³»å®¢æœçš„é€»è¾‘
  // eslint-disable-next-line no-console
  console.log('Contact support clicked');
}

function showCallbackForm() {
  // è¿™é‡Œå¯ä»¥æ·»åŠ æ˜¾ç¤ºé¢„çº¦å›ç”µè¡¨å•çš„é€»è¾‘
  // eslint-disable-next-line no-console
  console.log('Show callback form');
}
</script>

<template>
  <section class="faq_section">
    <div class="faq_container">
      <div class="section_header animate_on_scroll">
        <div class="header_icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="12" cy="12" r="10" />
            <path d="m9,9 0,0a3,3 0 1,1 6,0c0,2-3,3-3,3" />
            <path d="m12,17.02.01,0" />
          </svg>
        </div>
        <h2 class="section_title">
          ğŸ’¡ æ™ºèƒ½é—®ç­”ä¸­å¿ƒ
        </h2>
        <p class="section_description">
          æ‚¨çš„ç–‘é—®ï¼Œæˆ‘ä»¬çš„ä¸“ä¸šè§£ç­” | 7x24å°æ—¶æ™ºèƒ½å®¢æœä¸ºæ‚¨æœåŠ¡
        </p>
      </div>
      <div class="faq_list">
        <div
          v-for="(faq, index) in faqs"
          :key="faq.id"
          class="faq_item animate_on_scroll"
          :style="{ animationDelay: `${index * 0.1}s` }"
        >
          <div
            class="faq_question"
            :class="{ active: activeFaq === faq.id }"
            @click="toggleFaq(faq.id)"
          >
            <div class="question_content">
              <div class="question_header">
                <span class="faq_emoji">{{ faq.icon }}</span>
                <div class="question_info">
                  <span class="faq_category">{{ faq.category }}</span>
                  <h3>{{ faq.question }}</h3>
                </div>
              </div>
              <div class="question_tags">
                <span v-for="tag in faq.tags" :key="tag" class="tag">{{ tag }}</span>
              </div>
            </div>
            <ChevronDownIcon
              class="faq_icon"
              :class="{ rotated: activeFaq === faq.id }"
            />
          </div>
          <div
            class="faq_answer"
            :class="{ open: activeFaq === faq.id }"
          >
            <div class="answer_content">
              <p v-html="faq.answer.replace(/\n/g, '<br>')" />
              <div class="answer_actions">
                <button class="helpful_btn" @click.stop="markHelpful(faq.id)">
                  ğŸ‘ æœ‰å¸®åŠ©
                </button>
                <button class="contact_btn" @click.stop="contactSupport">
                  ğŸ’¬ è”ç³»å®¢æœ
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="faq_cta animate_on_scroll">
        <div class="cta_content">
          <div class="cta_icon">
            ğŸ¤
          </div>
          <h3>è¿˜æ²¡æ‰¾åˆ°æ‚¨æƒ³è¦çš„ç­”æ¡ˆï¼Ÿ</h3>
          <p>æˆ‘ä»¬çš„ä¸“ä¸šå›¢é˜Ÿéšæ—¶ä¸ºæ‚¨æä¾›ä¸ªæ€§åŒ–è§£ç­”</p>
          <div class="cta_actions">
            <NuxtLink to="#" class="faq_btn faq_btn_primary">
              <span>ğŸ’¬</span>
              åœ¨çº¿å’¨è¯¢
            </NuxtLink>
            <button class="faq_btn faq_btn_secondary" @click="showCallbackForm">
              <span>ğŸ“</span>
              é¢„çº¦å›ç”µ
            </button>
          </div>
          <div class="cta_stats">
            <div class="stat">
              <span class="stat_number">10000+</span>
              <span class="stat_label">é—®é¢˜å·²è§£å†³</span>
            </div>
            <div class="stat">
              <span class="stat_number">30ç§’</span>
              <span class="stat_label">å¹³å‡å“åº”æ—¶é—´</span>
            </div>
            <div class="stat">
              <span class="stat_number">99.9%</span>
              <span class="stat_label">å®¢æˆ·æ»¡æ„åº¦</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>

<style lang="scss" scoped>
.faq_section {
  padding: 6rem 0;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  position: relative;
  overflow: hidden;
}

.faq_section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background:
    radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(255, 119, 48, 0.1) 0%, transparent 50%);
  z-index: 1;
}

.faq_container {
  position: relative;
  z-index: 2;
}

.faq_list {
  max-width: 48rem;
  margin: 0 auto;
}

.faq_item {
  background: white;
  border-radius: 1rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border: 1px solid #e2e8f0;
}

.faq_item:hover {
  transform: translateY(-2px);
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.section_header {
  text-align: center;
  margin-bottom: 3rem;
  position: relative;
}

.header_icon {
  width: 4rem;
  height: 4rem;
  background: linear-gradient(135deg, #3b82f6, #1d4ed8);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 1rem;
  color: white;
  box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
}

.header_icon svg {
  width: 2rem;
  height: 2rem;
}

.faq_question {
  padding: 2rem;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.faq_question::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, #3b82f6, #1d4ed8);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.faq_question:hover::before {
  opacity: 0.05;
}

.faq_question.active {
  background: linear-gradient(135deg, #dbeafe, #bfdbfe);
  color: #1e40af;
}

.question_content {
  flex: 1;
  position: relative;
  z-index: 1;
}

.question_header {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  margin-bottom: 1rem;
}

.faq_emoji {
  font-size: 1.5rem;
  line-height: 1;
  margin-top: 0.25rem;
}

.question_info {
  flex: 1;
}

.faq_category {
  display: inline-block;
  font-size: 0.75rem;
  font-weight: 600;
  color: #6366f1;
  background: rgba(99, 102, 241, 0.1);
  padding: 0.25rem 0.75rem;
  border-radius: 1rem;
  margin-bottom: 0.5rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.faq_question h3 {
  font-size: 1.125rem;
  font-weight: 600;
  margin: 0;
  line-height: 1.4;
  color: #1f2937;
}

.faq_question.active h3 {
  color: #1e40af;
}

.question_tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.tag {
  font-size: 0.75rem;
  color: #6b7280;
  background: #f3f4f6;
  padding: 0.25rem 0.5rem;
  border-radius: 0.375rem;
  font-weight: 500;
}

.faq_icon {
  width: 1.5rem;
  height: 1.5rem;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  color: #3b82f6;
  position: relative;
  z-index: 1;
}

.faq_icon.rotated {
  transform: rotate(180deg);
}

.faq_answer {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
}

.faq_answer.open {
  max-height: 400px;
  padding: 0 2rem 2rem;
}

.answer_content {
  border-top: 1px solid #e2e8f0;
  padding-top: 1.5rem;
}

.faq_answer p {
  color: #475569;
  line-height: 1.7;
  margin-bottom: 1.5rem;
  font-size: 0.95rem;
}

.answer_actions {
  display: flex;
  gap: 1rem;
  align-items: center;
}

.helpful_btn, .contact_btn {
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  border: none;
}

.helpful_btn {
  background: #dcfce7;
  color: #16a34a;
}

.helpful_btn:hover {
  background: #bbf7d0;
  transform: translateY(-1px);
}

.contact_btn {
  background: #dbeafe;
  color: #2563eb;
}

.contact_btn:hover {
  background: #bfdbfe;
  transform: translateY(-1px);
}

.faq_cta {
  text-align: center;
  margin-top: 4rem;
  padding: 3rem;
  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
  border-radius: 1.5rem;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  border: 1px solid #e2e8f0;
  position: relative;
  overflow: hidden;
}

.faq_cta::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background:
    radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(16, 185, 129, 0.1) 0%, transparent 50%);
  z-index: 1;
}

.cta_content {
  position: relative;
  z-index: 2;
}

.cta_icon {
  font-size: 3rem;
  margin-bottom: 1rem;
}

.faq_cta h3 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1f2937;
  margin-bottom: 1rem;
}

.faq_cta p {
  color: #64748b;
  margin-bottom: 2rem;
  font-size: 1.1rem;
  font-weight: 500;
}

.cta_actions {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-bottom: 2rem;
}

.faq_btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 2rem;
  border-radius: 0.75rem;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-size: 1rem;
}

.faq_btn_primary {
  background: linear-gradient(135deg, #3b82f6, #1d4ed8);
  color: white;
  box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.5);
}

.faq_btn_primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 15px -3px rgba(59, 130, 246, 0.4);
  background: linear-gradient(135deg, #1d4ed8, #1e40af);
}

.faq_btn_secondary {
  background: white;
  color: #3b82f6;
  border: 2px solid #3b82f6;
}

.faq_btn_secondary:hover {
  background: #3b82f6;
  color: white;
  transform: translateY(-2px);
}

.cta_stats {
  display: flex;
  justify-content: center;
  gap: 2rem;
  margin-top: 2rem;
}

.stat {
  text-align: center;
}

.stat_number {
  display: block;
  font-size: 1.5rem;
  font-weight: 700;
  color: #1f2937;
  margin-bottom: 0.25rem;
}

.stat_label {
  font-size: 0.875rem;
  color: #6b7280;
  font-weight: 500;
}

@media (max-width: 768px) {
  .faq_question {
    padding: 1.5rem;
  }

  .question_header {
    gap: 0.75rem;
  }

  .faq_emoji {
    font-size: 1.25rem;
  }

  .faq_question h3 {
    font-size: 1rem;
  }

  .faq_answer.open {
    padding: 0 1.5rem 1.5rem;
  }

  .cta_actions {
    flex-direction: column;
    align-items: center;
  }

  .cta_stats {
    flex-direction: column;
    gap: 1rem;
  }

  .faq_btn {
    width: 100%;
    max-width: 250px;
  }
}
</style>
